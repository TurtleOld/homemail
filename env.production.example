# Production Environment Variables
# Copy this file to .env.production and fill in your values

# Mail Provider Configuration
# Options: stalwart, imap
MAIL_PROVIDER=stalwart

# Stalwart JMAP Configuration
# Для Docker Compose используйте внутренние имена сервисов:
STALWART_BASE_URL=http://stalwart:8080
STALWART_SMTP_HOST=stalwart
STALWART_SMTP_PORT=587
STALWART_SMTP_SECURE=false
STALWART_AUTH_MODE=oauth

# OAuth Configuration (требуется если STALWART_AUTH_MODE=oauth)
# STALWART_PUBLIC_URL - внешний публичный URL для OAuth (через reverse-proxy)
# ОБЯЗАТЕЛЬНО указать! Используется для нормализации OAuth endpoints в discovery response
# Это должен быть публичный HTTPS URL, доступный из интернета
# Пример: STALWART_PUBLIC_URL=https://example.com
STALWART_PUBLIC_URL=https://example.com
# OAUTH_DISCOVERY_URL - можно указать явно, иначе автоматически определяется:
# - Если STALWART_BASE_URL внутренний (stalwart, localhost, IP) - используется STALWART_BASE_URL
# - Иначе используется STALWART_PUBLIC_URL
# Discovery запрос идет через внутренний URL (если доступен), но endpoints нормализуются на публичные
# OAUTH_DISCOVERY_URL=http://stalwart:8080/.well-known/oauth-authorization-server
# Client ID для OAuth Device Flow (получить у администратора Stalwart)
OAUTH_CLIENT_ID=your-oauth-client-id

# Для внешнего Stalwart сервера используйте:
# STALWART_BASE_URL=http://stalwart:8080
# STALWART_SMTP_HOST=stalwart

# Application Configuration
NODE_ENV=production
PORT=3000
NEXT_PUBLIC_APP_URL=https://your-domain.com
ALLOWED_ORIGIN_HOSTS=your-domain.com

# Security (optional, for additional hardening)
# SESSION_SECRET используется для шифрования данных сессии в куках
# Сгенерируйте случайный ключ: openssl rand -base64 32
# Пример: SESSION_SECRET=K8mN2pQ5rT9vW1xY4zA7bC0dE3fG6hI9jK2lM5nO8pQ1rS4tU7vW0xY3zA6bC9dE
SESSION_SECRET=your-random-secret-key-here
# RATE_LIMIT_ENABLED=true
